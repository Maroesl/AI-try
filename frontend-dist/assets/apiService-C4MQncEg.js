const p="";function u(){return localStorage.getItem("yprompt_token")}async function n(e,t={}){const r=u(),s={"Content-Type":"application/json",...t.headers};r&&(s.Authorization=`Bearer ${r}`);const a=await(await fetch(`${p}${e}`,{...t,headers:s})).json();if(a.code===401)throw localStorage.removeItem("yprompt_token"),localStorage.removeItem("yprompt_user"),new Error("未授权，请重新登录");return a}async function c(e){return n(e,{method:"GET"})}async function o(e,t){return n(e,{method:"POST",body:t?JSON.stringify(t):void 0})}async function i(e){return n(e,{method:"DELETE"})}async function l(e){return o("/api/prompts",e)}async function y(){return c("/api/prompt-rules")}async function f(e){return o("/api/prompt-rules",e)}async function h(e){if(e&&e.length>0){const t={};return e.forEach(r=>{t[r]=null}),o("/api/prompt-rules",t)}else return i("/api/prompt-rules")}export{i as del,h as deleteUserPromptRules,c as get,y as getUserPromptRules,o as post,l as savePrompt,f as saveUserPromptRules};
